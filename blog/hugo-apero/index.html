<!DOCTYPE html>
<html lang="en" dir="ltr"><head>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.101.0" />
<title>How to setup hugo-ap√©ro on GitHub Pages ... | Jack Gregory</title>








  
    
  
<meta name="description" content="... with submodules">


<meta property="og:site_name" content="Jack Gregory">
<meta property="og:title" content="How to setup hugo-ap√©ro on GitHub Pages ... | Jack Gregory">
<meta property="og:description" content="... with submodules" />
<meta property="og:type" content="page" />
<meta property="og:url" content="/blog/hugo-apero/" />
<meta property="og:locale" content="en">




    
        <meta property="og:image" content="/blog/hugo-apero/featured.png" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="/blog/hugo-apero/featured.png" >
    
    
  <meta itemprop="name" content="How to setup hugo-ap√©ro on GitHub Pages ...">
<meta itemprop="description" content="TL;DRIn this blog, I summarize the steps necessary to adapt the deployment of a Hugo-Ap√©ro website to GitHub Pages. I also discuss how to use git submodules to and include a theme dynamically.
IntroductionHugo-Ap√©ro is a Hugo theme for publishing websites using the blogdown package within R. In fact, it&rsquo;s what I&rsquo;m using to publish my personal site here!
Even if you&rsquo;ve never used Hugo or blogdown previously, the setup is fairly straightforward."><meta itemprop="datePublished" content="2022-08-29T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-08-29T00:00:00+00:00" />
<meta itemprop="wordCount" content="1457"><meta itemprop="image" content="/blog/hugo-apero/featured.png">
<meta itemprop="keywords" content="Website," />
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X2M61RSEHX"></script>
<script>
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-X2M61RSEHX', { 'anonymize_ip': true });
}
</script>

  
<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-X2M61RSEHX', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="/img/AdobeStock_168263190_sky.png" type="image/x-icon">
  <link rel="icon" href="/img/AdobeStock_168263190_sky.png" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.a9f2a4292c3a1536884736d2642e2c7f21f17655fe23971612e5664e6b2c58cb.css" integrity="sha256-qfKkKSw6FTaIRzbSZC4sfyHxdlX&#43;I5cWEuVmTmssWMs=" media="screen">
  
  
  <script src="/panelset.min.dca42702d7daf6fd31dc352efd2bcf0e4ac8c05ccaa58d9293f6177462de5d5f.js" type="text/javascript"></script>
  
  
  <script src="/main.min.fcfe821bed4e43fac02ff8e5d8c6cf6c8ceea35bff9601d3f0f8c51016e0f75b.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container single">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="/" title="Home">
      <img src="/img/AdobeStock_168263190_black.png" class="dib db-l h2 w-auto" alt="Jack Gregory">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="About Me">About</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/blog/" title="Blog">Blog</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/project/" title="Project Portfolio">Projects</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/publication/" title="Published Works">Publications</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/talk/" title="Presentations">Talks</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/cv/" title="Curriculum Vitae">CV</a>
      
      
    </div>
  </nav>
</header>

<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 ph4-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">How to setup hugo-ap√©ro on GitHub Pages ...</h1>
        <h4 class="f4 mt0 mb4 lh-title measure">... with submodules</h4>
        <p class="f6 measure lh-copy mv1">By Jack Gregory in <a href="/categories/r">R</a>  <a href="/categories/github">GitHub</a> </p>
        <p class="f7 db mv0 ttu">August 29, 2022</p>

      

      </header>
      <section class="post-body pt5 pb4">
        <p><img src="hugo_apero.png" alt=""></p>




<h2 id="tldr">TL;DR
  <a href="#tldr"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>In this blog, I summarize the steps necessary to adapt the deployment of a Hugo-Ap√©ro website to GitHub Pages.  I also discuss how to use git submodules to and include a theme dynamically.</p>




<h2 id="introduction">Introduction
  <a href="#introduction"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Hugo-Ap√©ro is a Hugo theme for publishing websites using the <code>blogdown</code> package within R.  In fact, it&rsquo;s what I&rsquo;m using to publish my personal site here!</p>
<p>Even if you&rsquo;ve never used Hugo or blogdown previously, the setup is fairly straightforward.  The steps outlined in the &ldquo;
<a href="https://hugo-apero-docs.netlify.app/start/" target="_blank" rel="noopener">Get Started</a>&rdquo; blog series by creator 
<a href="https://www.apreshill.com/" target="_blank" rel="noopener">Alison Hill</a> are an excellent place to start.  The series describes how to build a blogdown website in six steps:</p>
<ol>
<li>Set up;</li>
<li>Create your site;</li>
<li>Site configuration;</li>
<li>Deploy your site;</li>
<li>Section configuration; and,</li>
<li>Page configuration.</li>
</ol>
<p>For the most part, I followed the instructions laid out in the blog series above.  However, I did make a couple of small modifications in steps 2 and 4.  The remainder of this blog will dive into those modifications, namely:</p>
<ul>
<li>To deploy the site on GitHub pages instead of Netlify; and,</li>
<li>To use git submodules to include the theme dynamically.</li>
</ul>




<h2 id="create-github-repository">Create GitHub repository
  <a href="#create-github-repository"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>The Hugo-Ap√©ro setup instructions recommend publishing your site using Netlify.  This is a great option; however, my personal preference is to keep everything within the GitHub universe.  To do so, there are a number of small modifications necessary to the recommended setup.</p>
<p>The first change is to create a repository on GitHub, but make sure to use the following naming convention: <code>[username].github.io</code>, where &ldquo;[username]&rdquo; is replaced with your GitHub handle.</p>
<div id="" class="panelset">
  
<div class="panel">
  <div class="panel-name">To do ‚úîÔ∏è</div>
  
  <p><p>Create a new repository on GitHub from 
<a href="https://github.com/new" target="_blank" rel="noopener">https://github.com/new</a>:</p>
<ul>
<li>
<p>Name the repo <code>[username].github.io</code> under your account and replace &ldquo;[username]&rdquo; with your actual GitHub handle ignoring brackets.</p>
</li>
<li>
<p>Make the repository &ldquo;public&rdquo;.</p>
</li>
<li>
<p>Check to initialize with a <code>README.md</code> file.</p>
</li>
<li>
<p>Don&rsquo;t add a <code>.gitignore</code> file as <code>blogdown</code> will handle this later.</p>
</li>
</ul>
</p>
</div>
<div class="panel">
  <div class="panel-name">Screenshot üì∑</div>
  
  <p><img src="website_repo.png" alt="Screenshot: Creating a new repository in GitHub"></p>
</div>

</div>




<h2 id="create-site">Create site
  <a href="#create-site"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Once this is complete, create a new version-controlled RStudio project by cloning the GitHub repository you just created.</p>
<div id="" class="panelset">
  
<div class="panel">
  <div class="panel-name">To do ‚úîÔ∏è</div>
  
  <p><ol>
<li>
<p>From the main page of your new repository, click the green &ldquo;Code&rdquo; button and copy the HTTPS remote URL by clicking the clipboard icon.</p>
</li>
<li>
<p>Open RStudio and create a new project by clicking Click &ldquo;File&rdquo; <code>\(\rightarrow\)</code> &ldquo;New Project&rdquo; <code>\(\rightarrow\)</code> &ldquo;Version Control&rdquo; <code>\(\rightarrow\)</code> &ldquo;Git&rdquo;.</p>
</li>
<li>
<p>Paste the copied URL from the previous step.</p>
</li>
<li>
<p>If desired, change the &ldquo;Project directory name&rdquo; to something more descriptive.  Note that this step is skipped in the corresponding gif.</p>
</li>
<li>
<p>Click &ldquo;Create Project&rdquo;.</p>
</li>
</ol>
</p>
</div>
<div class="panel">
  <div class="panel-name">Gif üìπ</div>
  
  <p><img src="clone_site.gif" alt="Screenshot: Creating a new repository in GitHub"></p>
</div>

</div>
<p>In the new RStudio project, use the 
<a href="https://pkgs.rstudio.com/blogdown/reference/hugo_cmd.html" target="_blank" rel="noopener"><code>blogdown::new_site</code></a> function to create a new site skeleton via Hugo.  Note that we avoid entering a theme parameter (i.e., <code>theme = NA</code>), such that we can install it manually.</p>
<div id="" class="panelset">
  
<div class="panel">
  <div class="panel-name">To do ‚úîÔ∏è</div>
  
  <p><p>Use blogdown to create a blank Hugo website:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">library</span>(blogdown)
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">new_site</span>(theme <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">NA</span>,
</span></span><span style="display:flex;"><span>           format <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;toml&#34;</span>,
</span></span><span style="display:flex;"><span>           sample <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">FALSE</span>,
</span></span><span style="display:flex;"><span>           empty_dirs <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">TRUE</span>)
</span></span></code></pre></div></p>
</div>
<div class="panel">
  <div class="panel-name">Message üí¨</div>
  
  <p><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>‚Äï Creating your new site
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span> Converting all metadata to the YAML format
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span> Adding netlify.toml in case you want to deploy the site to Netlify
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span> Adding .Rprofile to set <span style="color:#900;font-weight:bold">options</span>() for blogdown
</span></span><span style="display:flex;"><span>‚Äï The new site is ready
</span></span><span style="display:flex;"><span>‚óã To start a local preview<span style="color:#000;font-weight:bold">:</span> use blogdown<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">serve_site</span>(), or the RStudio add<span style="color:#000;font-weight:bold">-</span>in <span style="color:#d14">&#34;Serve Site&#34;</span>
</span></span><span style="display:flex;"><span>‚óã To stop a local preview<span style="color:#000;font-weight:bold">:</span> use blogdown<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">stop_server</span>(), or restart your R session
</span></span><span style="display:flex;"><span>‚ñ∫ Want to serve and preview the site now<span style="color:#000;font-weight:bold">?</span> (y<span style="color:#000;font-weight:bold">/</span>n)
</span></span></code></pre></div></p>
</div>

</div>
<p>We are asked:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>‚ñ∫ Want to serve and preview the site now<span style="color:#000;font-weight:bold">?</span> (y<span style="color:#000;font-weight:bold">/</span>n)
</span></span></code></pre></div><p>Select <code>n</code> as we have yet to add any content.</p>




<h2 id="add-hugo-apero-submodule">Add <code>hugo-apero</code> submodule
  <a href="#add-hugo-apero-submodule"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Creating a git submodule is essentially adding a repository within a repository.  Here we need to add 
<a href="https://github.com/hugo-apero/hugo-apero" target="_blank" rel="noopener"><code>hugo-apero</code></a> to the <code>/themes/</code> folder.</p>
<p>The steps described below are based on the blog &ldquo;
<a href="https://blog.bitsrc.io/how-to-utilize-submodules-within-git-repos-5dfdd1c62d09" target="_blank" rel="noopener">How to Utilize Submodules within Git Repos</a>&rdquo; by 
<a href="https://www.paigeniedringhaus.com/" target="_blank" rel="noopener">Paige Niedringhaus</a>.  The documentation on 
<a href="https://www.git-scm.com/book/en/v2/Git-Tools-Submodules" target="_blank" rel="noopener">git submodules</a> is also a useful resource.</p>
<p>To add a new submodule to an existing project, open Git Bash, navigate to the project and, in the terminal, enter the following command ignoring brackets:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ git submodule add <span style="color:#000;font-weight:bold">[</span>project URL<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>folder name<span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><p>The &ldquo;[project URL]&rdquo; is the URL of project we wish to add (i.e. submodule), while the &ldquo;[folder name]&rdquo; is the name of the submodule directory we wish to see in the existing project (i.e. main repository).  By default, submodules add the subproject into an eponymous directory in the project&rsquo;s root directory.  It is possible to use a different path by including it at the end of the command.</p>
<p>In our case, the Hugo-Ap√©ro theme should be added under the <code>/themes/</code> subfolder.</p>
<div id="" class="panelset">
  
<div class="panel">
  <div class="panel-name">To do ‚úîÔ∏è</div>
  
  <p><p>Create a <code>hugo-apero</code> submodule</p>
<ol>
<li>
<p>Open Git Bash and navigate to your website project.</p>
</li>
<li>
<p>Enter the following line of code in the terminal, ensuring that the subproject is added under the <code>/themes/</code> subfolder:</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ git submodule add https://github.com/hugo-apero/hugo-apero.git themes/hugo-apero
</span></span></code></pre></div></p>
</div>
<div class="panel">
  <div class="panel-name">Screenshot üì∑</div>
  
  <p><p><img src="apero_submodule.png" alt="Screenshot: Creating a hugo-aperosubmodule"></p>
<p>Note that, in this picture, my local website repository is under the name &ldquo;website&rdquo; instead of &ldquo;jack-gregory.github.io&rdquo;.</p>
</p>
</div>

</div>
<p>Once, we&rsquo;ve added the Hugo-Ap√©ro submodule, we need to copy the following files and folders to the appropriate locations within the website repository:</p>
<ul>
<li><code>/themes/hugo-apero/assets/</code> <code>\(\longrightarrow\)</code> <code>/assets/</code>;</li>
<li><code>/themes/hugo-apero/exampleSite/config.toml</code> <code>\(\longrightarrow\)</code> root directory;</li>
<li><code>/themes/hugo-apero/exampleSite/content/</code> <code>\(\longrightarrow\)</code> root directory; and,</li>
<li><code>/themes/hugo-apero/exampleSite/layouts/</code> <code>\(\longrightarrow\)</code> root directory.</li>
</ul>
<p>This is necessary, since we did not include a theme when we 
<a href="#create-site">created the site</a>.</p>
<p>At this point, we should now have a few new elements in our &ldquo;website&rdquo; repository.  Let‚Äôs take a closer look at each of them.</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>Path</strong></th>
<th style="text-align:left"><strong>Type</strong></th>
<th style="text-align:left"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>/.gitmodules</code></td>
<td style="text-align:left">file</td>
<td style="text-align:left">A configuration file with the mapping between submodule project URLs and their local subdirectory.</td>
</tr>
<tr>
<td style="text-align:left"><code>/themes/hugo-apero/</code></td>
<td style="text-align:left">folder</td>
<td style="text-align:left">The <code>hugo-apero</code> submodule containing the Hugo-Ap√©ro theme.</td>
</tr>
<tr>
<td style="text-align:left"><code>/config.toml</code></td>
<td style="text-align:left">file</td>
<td style="text-align:left">File copied from the <code>hugo-apero</code> submodule defining the Hugo website configuration.</td>
</tr>
<tr>
<td style="text-align:left"><code>/assets/</code></td>
<td style="text-align:left">folder</td>
<td style="text-align:left">Folder copied from the <code>hugo-apero</code> submodule.</td>
</tr>
<tr>
<td style="text-align:left"><code>/data/</code></td>
<td style="text-align:left">folder</td>
<td style="text-align:left">Folder copied from the <code>hugo-apero</code> submodule.</td>
</tr>
<tr>
<td style="text-align:left"><code>/layouts/</code></td>
<td style="text-align:left">folder</td>
<td style="text-align:left">Folder copied from the <code>hugo-apero</code> submodule.</td>
</tr>
</tbody>
</table>




<h2 id="publish-to-github-pages">Publish to GitHub Pages
  <a href="#publish-to-github-pages"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Now that we have our website setup locally, we can proceed to publishing it through GitHub Pages.  The steps outlined in this section are based on the &ldquo;
<a href="https://bookdown.org/yihui/blogdown/github-pages.html" target="_blank" rel="noopener">GitHub Pages</a>&rdquo; chapter within the 
<a href="https://bookdown.org/yihui/blogdown/" target="_blank" rel="noopener">Creating Websites with R Markdown</a> book by 
<a href="https://yihui.org/" target="_blank" rel="noopener">Yihui Xie</a>.</p>




<h3 id="edit-rprofile">Edit <code>.RProfile</code>
  <a href="#edit-rprofile"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Instead of GitHub publishing our website from the root directory, we would like it to do so from a subdirectory.  Since, the only two options are to publish from the root or a <code>/docs/</code> subdirectory, we must rename <code>/public/</code> to <code>/docs/</code>.</p>
<p>Next, to ensure that the site is built in the <code>/docs/</code> folder, we must add the following line of code to the <code>.RProfile</code> file in the root of the website repository.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">options</span>(blogdown.publishDir<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;docs&#39;</span>)
</span></span></code></pre></div><p>Finally, save <code>.RProfile</code> and restart the R session for the changes to take affect.</p>




<h3 id="add-nojekyll">Add <code>.nojekyll</code>
  <a href="#add-nojekyll"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>To ensure GitHub does not rebuild our website using Jekyll, we need to create a (hidden) file named <code>.nojekyll</code> in the <code>/docs/</code> folder.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>  This can be done by running the following line of code in the R console:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">file.create</span>(<span style="color:#d14">&#34;docs/.nojekyll&#34;</span>)
</span></span></code></pre></div>



<h3 id="build-the-website">Build the website
  <a href="#build-the-website"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Build the website locally using Hugo by running the following line of code in the R console:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&gt;</span> blogdown<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">build_site</span>()
</span></span></code></pre></div><p>This should populate the <code>/docs/</code> folder with the static website.</p>




<h3 id="push-changes-to-github">Push changes to GitHub
  <a href="#push-changes-to-github"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>We can directly push our website to GitHub by running the following commands in Git Bash:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ git add .
</span></span><span style="display:flex;"><span>$ git commit -m <span style="color:#d14">&#34;Publish website&#34;</span> 
</span></span><span style="display:flex;"><span>$ git push origin HEAD
</span></span></code></pre></div><p>This will add all changes and submodules to the remote &ldquo;website&rdquo; repository.</p>




<h3 id="edit-github-pages-settings">Edit GitHub Pages settings
  <a href="#edit-github-pages-settings"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Finally, we need to adjust a few of the repository settings to ensure the website is properly published to GitHub pages.</p>
<div id="" class="panelset">
  
<div class="panel">
  <div class="panel-name">To do ‚úîÔ∏è</div>
  
  <p><p>Adjust some repository settings:</p>
<ul>
<li>
<p>Navigate to Settings <code>\(\rightarrow\)</code> Pages.</p>
</li>
<li>
<p>Under &ldquo;Build and deployment&rdquo;:</p>
<ul>
<li>
<p>Change &ldquo;Source&rdquo; <code>\(\longrightarrow\)</code> &ldquo;Deploy from branch&rdquo;;</p>
</li>
<li>
<p>Change &ldquo;Branch: Branch&rdquo; <code>\(\longrightarrow\)</code> &ldquo;main&rdquo;; and,</p>
</li>
<li>
<p>Change &ldquo;Branch: Select folder&rdquo; <code>\(\longrightarrow\)</code> &ldquo;/docs&rdquo;.</p>
</li>
</ul>
</li>
<li>
<p>Click save.</p>
</li>
</ul>
</p>
</div>
<div class="panel">
  <div class="panel-name">Screenshot üì∑</div>
  
  <p><img src="github_pages_settings.png" alt="Screenshot: GitHub Pages settings"></p>
</div>

</div>
<p>The website should now be published online at the following link: &ldquo;https://[username].github.io/&rdquo;, where &ldquo;[username]&rdquo; will be replaced with your GitHub handle.</p>




<h2 id="workflow-summary">Workflow summary
  <a href="#workflow-summary"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>From this point, my workflow in RStudio is outlined in the following steps:</p>
<ol>
<li>
<p>Open the RStudio project for the site.</p>
</li>
<li>
<p>Start the Hugo server using 
<a href="https://pkgs.rstudio.com/blogdown/reference/serve_site.html" target="_blank" rel="noopener"><code>blogdown::serve_site()</code></a>.</p>
</li>
<li>
<p>View the site in the RStudio viewer pane, and open it in a web browser using the &ldquo;Show in a new window&rdquo; button.</p>
</li>
<li>
<p>Edit and/or create content using RStudio.</p>
</li>
<li>
<p>After making changes, save the respective files to preview them.  Subsequently, the console will detect the change, the viewer pane will update, and the web browser will also refresh.</p>
</li>
<li>
<p>When satisfied with the changes, build the website locally by running 
<a href="https://pkgs.rstudio.com/blogdown/reference/build_site.html" target="_blank" rel="noopener"><code>blogdown::build_site()</code></a>.</p>
</li>
<li>
<p>Add, commit and push changes to the &ldquo;website&rdquo; remote repository, including the built site in the <code>/docs/</code> folder.  From Git Bash and within the &ldquo;website&rdquo; repository, use the following code:<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ git add .
</span></span><span style="display:flex;"><span>$ git commit -m <span style="color:#d14">&#34;Content updates&#34;</span>
</span></span><span style="display:flex;"><span>$ git pull
</span></span><span style="display:flex;"><span>$ git push
</span></span></code></pre></div></li>
</ol>
<p>So, there we go.  We now have our Hugo-Ap√©ro website published to GitHub pages!</p>
<!-- ### Add contents -->
<!-- We now repeat the steps above to add the "contents" submodule, where the one exception is that we also need to create a "website content" repository.  This setup means that while our "website" repository will be public, we can nevertheless keep its content private.  This prevents it from being easily copied and transposed elsewhere on the web. -->
<!-- <div id="" class="panelset">
   -->
<!-- <div class="panel">
  <div class="panel-name">To do ‚úîÔ∏è</div>
  
  <p>&ndash;&gt;</p>
<!-- Create a new repository on GitHub from <https://github.com/new>: -->
<!-- - Choose a name for your "website content" repository.  I chose something banal like `website_content`. -->
<!-- - Make the repository "private". -->
<!-- - Check to initialize with a `README.md` file.  -->
<!-- - Add a `.gitignore` file based on the R template.  -->
<!--</p>
</div> -->
<!-- <div class="panel">
  <div class="panel-name">Screenshot üì∑</div>
  
  <p>&ndash;&gt;</p>
<!-- ![Screenshot: Creating a new repository in GitHub](content_repo.png) -->
<!--</p>
</div> -->
<!-- 
</div> -->
<!-- We can now repeat the steps under the [Add Hugo-Ap√©ro](#add-hugo-ap√©ro) subsection.  Essentially, we wish to add our private `website_content` repository as the `/content/` folder in our public "website" repository.  We can do so by running the following line of code in Git Bash after navigating to our local website repository: -->
<!-- ```bash -->
<!-- $ git submodule add https://github.com/jack-gregory/website_content.git content -->
<!-- ``` -->
<!-- This will clone the `website_content` repository in a `/content/` folder.  So, although our remote repository is named `website_content` on GitHub, we want it to be referenced as a folder named "content" within the "website" repository in order to comply with the default Hugo folder structure. -->
<!-- Note that, although, content is a subdirectory in our "website" repository, Git sees it as a submodule and does not track its contents.  Instead, Git sees it as a particular commit from that repository. -->
<!-- 7. Add and commit all changes to the `/content/` submodule using a new local branch linked to the main remote branch.  From Git Bash and within the submodule repository, use the following code:[^2] -->
<!--     ```bash -->
<!--     $ git checkout -b build -->
<!--     $ git branch --set-upstream-to origin/main -->
<!--     $ git add . -->
<!--     $ git commit -m "Content updates" -->
<!--     $ git push origin HEAD:main -->
<!--     ``` -->
<!-- 8. Add, commit and push changes to the "website" remote repository, including the built site in the `/docs/` folder.  From Git Bash and within the "website" repository, use the following code:[^2] -->
<!--     ```bash -->
<!--     $ git add . -->
<!--     $ git commit -m "Content updates" -->
<!--     $ git pull -->
<!--     $ git push --recurse-submodules=check -->
<!--     ``` -->
<!-- [^2]: Further details and explanation can be found in the [git submodules](https://www.git-scm.com/book/en/v2/Git-Tools-Submodules) documentation. -->
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>See 
<a href="https://bookdown.org/yihui/blogdown/github-pages.html#fn34:~:text=To%20make%20sure%20GitHub%20does%20not%20rebuild%20your%20website%20using%20Jekyll%20and%20just%20publish%20whatever%20files%20you%20push%20to%20the%20repository%2C%20you%20need%20to%20create%20a%20%28hidden%29%20file%20named%20.nojekyll%20in%20the%20repository." target="_blank" rel="noopener">here</a>.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Further details and explanation can be found in the 
<a href="https://www.git-scm.com/book/en/v2/Git-Tools-Submodules" target="_blank" rel="noopener">git submodules</a> documentation.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

        
        <details closed class="f6 fw7 input-reset">
  <dl class="f6 lh-copy">
    <dt class="fw7">Posted on:</dt>
    <dd class="fw5 ml0">August 29, 2022</dd>
  </dl>
  <dl class="f6 lh-copy">
    <dt class="fw7">Length:</dt>
    <dd class="fw5 ml0">7 minute read, 1457 words</dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Categories:</dt>
    <dd class="fw5 ml0"> <a href="/categories/r">R</a>  <a href="/categories/github">GitHub</a> </dd>
  </dl>
  
  
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Tags:</dt>
    <dd class="fw5 ml0"> <a href="/tags/website">Website</a> </dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">See Also:</dt>
    
    <dd class="fw5 ml0"><a href="/blog/google-analytics/">Setting up Google Analytics on hugo-ap√©ro</a></dd>
    
  </dl>
</details>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="/blog/google-analytics/">&larr; Setting up Google Analytics on hugo-ap√©ro</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="/blog/hugo-apero/">How to setup hugo-ap√©ro on GitHub Pages ... &rarr;</a>
  
</div>

      </footer>
    </article>
    
  </section>
</main>
<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      ¬© 2022 Jack Gregory
      <span class="middot-divider"></span>
      Made with <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Ap√©ro</a></span>.
      <br />
      
Based on <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/jack-gregory/" title="github" target="_blank" rel="noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/jackgregory/" title="linkedin" target="_blank" rel="noopener">
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
    
    
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://orcid.org/0000-0003-2942-6024" title="orcid" target="_blank" rel="noopener">
      <i class="ai ai-orcid fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/blog/index.xml" title="rss" >
      <i class="fas fa-rss fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/license/" title="License">License</a>
      
      <a class="dib pv1 ph2 link" href="/contact/" title="Contact Form">Contact</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>
